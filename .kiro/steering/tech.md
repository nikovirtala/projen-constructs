# Technology Stack

## ⚠️ Projen-Managed Project

This project is **entirely managed by projen**. Key implications:

- **DO NOT** manually edit generated files (package.json, tsconfig.json, etc.)
- **ALL** configuration changes must be made in `.projenrc.ts`
- After modifying `.projenrc.ts`, run `npx projen` to regenerate files
- Dependencies, scripts, and tooling are defined in `.projenrc.ts`, not package.json

## Build System

**Projen** - Project configuration and build orchestration. This project uses Projen to manage itself (`.projenrc.ts`).

## Core Technologies

- **TypeScript 5.9.3** - Primary language
- **Node.js 24.11.1** - Runtime (managed via mise)
- **JSII ~5.9.3** - Multi-language library support
- **pnpm 10** - Package manager

## Code Quality

- **Biome** - Formatting and linting (replaces ESLint + Prettier)
  - 4 space indentation
  - 120 character line width
  - Double quotes for JavaScript/TypeScript
  - Config: `biome.jsonc`

## Testing

- **Vitest 4** - Test framework (replaces Jest)
  - Coverage provider: v8
  - Coverage reporters: text, lcov
  - Type checking enabled with tsc
  - Config: `vitest.config.ts`
  - Test files: `**/*.{test,spec}.?(c|m)[jt]s?(x)`

## Key Dependencies

- **projen** - Project generation framework
- **constructs** - CDK constructs base
- **@mrgrain/cdk-esbuild** - Lambda bundling
- **@mrgrain/jsii-struct-builder** - JSII interface generation
- **case** - String case conversion
- **tsx** - TypeScript execution (replaces ts-node)

## Module System

- **ES Modules** for TypeScript and CDK App projects (`"type": "module"` in package.json)
- **CommonJS** for JSII projects (JSII requirement)

## Common Commands

```bash
# Install dependencies
pnpm install

# Build the project
pnpm build

# Run tests
pnpm test

# Run tests in watch mode
pnpm test:watch

# Update test snapshots
pnpm test:update

# Format and lint code
pnpm biome

# Generate documentation
pnpm typedoc

# Run Projen to regenerate config files
pnpm projen

# Update AWS CDK, Node.js, and TypeScript versions
pnpm update-versions

# Upgrade dependencies
pnpm upgrade
```

## Generated Files

Many files are generated by Projen and should not be edited directly:
- Files with `~~ Generated by projen` header
- `src/projects/*.generated.ts` - Generated project classes
- `src/project-type.ts` - Generated ProjectType enum
- `.projen/` directory contents
- GitHub workflows in `.github/workflows/`

To modify generated files, edit `.projenrc.ts` and run `pnpm projen`.

## TypeScript Configuration

- **tsconfig.dev.json** - Development config (includes src, test, .projenrc.ts)
- Strict mode enabled with all strict checks
- ES2020 target and lib
- CommonJS module for JSII compatibility
- Source maps inlined

## Version Management

- **mise** - Node.js version management (mise.toml)
- Versions stored in `src/versions.json` and auto-updated via GitHub workflow
